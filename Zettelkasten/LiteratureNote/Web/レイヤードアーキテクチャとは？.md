---
title: レイヤードアーキテクチャとは？
source: https://minegishirei.hatenablog.com/entry/2023/01/27/214843
author:
  - "[[プログラミング学習サイト]]"
published: 2024-04-26
created: 2025-05-15
description: レイヤードアーキテクチャは、n層アーキテクチャとも呼ばれており、最も一般的なアーキテクチャのうちの一つだ。このアーキテクチャはシンプルさや親やすさ、コストの低さからほとんどのアプリケーションのスタンダードの形となっている。 minegishirei.hatenablog.com レイヤードアーキテクチャとは何か？ レイヤードアーキテクチャの構成 レイヤードアーキテクチャの基本構成要素 レイヤードアーキテクチャの種類 レイヤードアーキテクチャの開放レイヤーと閉鎖レイヤー レイヤードアーキテクチャのメリット:「関心ごとの分離」 安い レイヤードアーキテクチャのデメリット デプロイしづらい モジュー…
tags:
  - web
  - アーキテクチャ
---
レイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) は、n層 [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) とも呼ばれており、最も一般的な [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) のうちの一つだ。この [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) は **シンプル** さや **親やすさ** 、 **コストの低さ** からほとんどのアプリケーションのスタンダードの形となっている。

[minegishirei.hatenablog.com](https://minegishirei.hatenablog.com/entry/2023/01/27/214843)

- [レイヤードアーキテクチャとは何か？](https://minegishirei.hatenablog.com/entry/2023/01/27/#%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC%E3%83%89%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%A8%E3%81%AF%E4%BD%95%E3%81%8B)
- [レイヤードアーキテクチャの構成](https://minegishirei.hatenablog.com/entry/2023/01/27/#%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC%E3%83%89%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%AE%E6%A7%8B%E6%88%90)
- [レイヤードアーキテクチャの基本構成要素](https://minegishirei.hatenablog.com/entry/2023/01/27/#%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC%E3%83%89%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%AE%E5%9F%BA%E6%9C%AC%E6%A7%8B%E6%88%90%E8%A6%81%E7%B4%A0)
- [レイヤードアーキテクチャの種類](https://minegishirei.hatenablog.com/entry/2023/01/27/#%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC%E3%83%89%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%AE%E7%A8%AE%E9%A1%9E)
- [レイヤードアーキテクチャの開放レイヤーと閉鎖レイヤー](https://minegishirei.hatenablog.com/entry/2023/01/27/#%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC%E3%83%89%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%AE%E9%96%8B%E6%94%BE%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC%E3%81%A8%E9%96%89%E9%8E%96%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC)
- [レイヤードアーキテクチャのメリット:「関心ごとの分離」](https://minegishirei.hatenablog.com/entry/2023/01/27/#%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC%E3%83%89%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%AE%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88%E9%96%A2%E5%BF%83%E3%81%94%E3%81%A8%E3%81%AE%E5%88%86%E9%9B%A2)
	- [安い](https://minegishirei.hatenablog.com/entry/2023/01/27/#%E5%AE%89%E3%81%84)
- [レイヤードアーキテクチャのデメリット](https://minegishirei.hatenablog.com/entry/2023/01/27/#%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC%E3%83%89%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%AE%E3%83%87%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88)
	- [デプロイしづらい](https://minegishirei.hatenablog.com/entry/2023/01/27/#%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%81%97%E3%81%A5%E3%82%89%E3%81%84)
	- [モジュール性](https://minegishirei.hatenablog.com/entry/2023/01/27/#%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E6%80%A7)
	- [パフォーマンス(処理速度)](https://minegishirei.hatenablog.com/entry/2023/01/27/#%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E5%87%A6%E7%90%86%E9%80%9F%E5%BA%A6)
- [まとめ:レイヤードアーキテクチャを採用する理由](https://minegishirei.hatenablog.com/entry/2023/01/27/#%E3%81%BE%E3%81%A8%E3%82%81%E3%83%AC%E3%82%A4%E3%83%A4%E3%83%BC%E3%83%89%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%82%92%E6%8E%A1%E7%94%A8%E3%81%99%E3%82%8B%E7%90%86%E7%94%B1)
- [備考](https://minegishirei.hatenablog.com/entry/2023/01/27/#%E5%82%99%E8%80%83)

## レイヤードアーキテクチャとは何か？

**レイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) は、n層 [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) とも呼ばれており、最も一般的な [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) のうちの一つだ。**

この [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) は **シンプル** さや **親やすさ** 、 **コストの低さ** からほとんどのアプリケーションのスタンダードの形となっている。

また、このスタイルはいわゆるIT企業、IT企画室と呼ばれる組織が発想するにはとても自然な [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) である。

と言うのも、ほとんどの開発組織には、 [ユーザーインターフェース](https://d.hatena.ne.jp/keyword/%A5%E6%A1%BC%A5%B6%A1%BC%A5%A4%A5%F3%A5%BF%A1%BC%A5%D5%A5%A7%A1%BC%A5%B9) チーム、バックエンドチーム、データベースチームがいる。

**こうした組織構造は、伝統的なレイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) の各層にうまくフィットしている。**

![](https://github.com/minegishirei/store/blob/main/0/inhouse_se/layerd1.png?raw=true)

## レイヤードアーキテクチャの構成

レイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) は論理的な水平方向のレイヤーとして構成され、各レイヤーは、アプリケーションないで特定の役割をこなしている。

存在しなければならないレイヤーの数や種類については特に決まっていはいないが、ほとんどのアプリケーションは次の4つから構成される

- プレゼンテーション層
- ビジネス層
- 永続仮層
- データベース層

上記の4つが標準的なレイヤーとして構成されている。

小規模なアプリケーションでは3つになるかもしれないし、

大規模になると5つ以上にはなる。

## レイヤードアーキテクチャの基本構成要素

- プレゼンテーション層は [ユーザーインターフェース](https://d.hatena.ne.jp/keyword/%A5%E6%A1%BC%A5%B6%A1%BC%A5%A4%A5%F3%A5%BF%A1%BC%A5%D5%A5%A7%A1%BC%A5%B9) とバックエンドの通信ロジックに責任を置いている
- ビジネス層はリク [エス](https://d.hatena.ne.jp/keyword/%A5%A8%A5%B9) トに関連した指定のビジネスルールの実行に責任がある
- データベース層では [MySQL](https://d.hatena.ne.jp/keyword/MySQL) や [SQLServer](https://d.hatena.ne.jp/keyword/SQLServer) やPostgressなどのデータベースが入る

各レイヤーはそれぞれの仕事に **責任** を持っており、各レイヤーでの以上事態が起きた場合は各レイヤーの担当チームが責任を果たすべく修正を行う

## レイヤードアーキテクチャの種類

レイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) における「物理的な分離」はいくつも選択肢が存在する。

1. データベースのみを別のサーバーor [コンポーネント](https://d.hatena.ne.jp/keyword/%A5%B3%A5%F3%A5%DD%A1%BC%A5%CD%A5%F3%A5%C8) に分離するケース
2. ビジネス層と永続層を一つのサーバーに入れ、プレゼンテーション層やデータベース層を別に分離させるケース
3. 全ての層を一つのサーバーに入れるケース

多くのオンプレミスな製品は、この3つ目のパターンで顧客へと納品されるはずだ。

![](https://github.com/minegishirei/store/blob/main/0/inhouse_se/layerd2.png?raw=true)

## レイヤードアーキテクチャの開放レイヤーと閉鎖レイヤー

レイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) の層にはまた別の種類が存在する。

開放レイヤーと閉鎖レイヤーの二種類だ

通常、レイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) においては、「ある層へのアクセスはその前後の層のみに限定される」が、

開放レイヤーを用いる場合はその限りではない。

- 「ある層へのアクセスはその前後の層のみに限定される」閉鎖レイヤー
- 「全ての層、あるいは一部の層であればアクセスできる」開放レイヤー

この二種類がレイヤーを構築する種類となる。

開放レイヤーを使用する理由はさまざまである。

例えば次のようなユーティリティクラスは外部からのアクセスが妥当な場合が多い。

- 日付や文字列おユーティリティクラス
- 監査クラス
- ロギングのためのクラス

これらを含む共有オブジェクトは、それぞれの層で独自に生成するよりは一つの層からアクセス可能な方が統制が取れやすい。

しかしながら、開放レイヤーのクラスが多数を占めた場合、技術による分離の難易度が上がるためなにを開放レイヤーに含めるかは議論の余地がある。

![](https://github.com/minegishirei/store/blob/main/0/inhouse_se/layerd4.png?raw=true)

## レイヤードアーキテクチャのメリット:「関心ごとの分離」

レイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) では「関心事の分離」に重点を置いている。

この「関心事の分離」では、 [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) の中での効果的な役割と責任のモデルを構築することを容易にする。

- プレゼンテーション層はどのようにデータを取得しているかによらず処理ができる
- ビジネス層は顧客データをどのような形式で画面に表示するかを判断する必要がない

これにより、 **開発者は特定の専門的な技術知識を活かして自分の領域に専念できるのだ**

レイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) は **技術によって分断された** [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) だと言える。

![](https://github.com/minegishirei/store/blob/main/0/inhouse_se/layerd_closed.png?raw=true)

### 安い

レイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) は誰しもが通る道であるため、シンプルさを保つことができる。

複雑なアプリケーションではアジリティや変更ができないため選択しづらいが、シンプルなアプリケーションであれば真っ先に候補に上がる。

## レイヤードアーキテクチャのデメリット

レイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) は **技術によって分断された** [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) だ。

[ドメイン](https://d.hatena.ne.jp/keyword/%A5%C9%A5%E1%A5%A4%A5%F3) (事業)によって分割された [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) ではない。

したがって、 **ある一つの事業的な変更が、 [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) 全体に影響を及ぼしてしまう** と言うのがレイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) のデメリットだ。

例えば、顧客領域に変更が加えられる場合、

その変更は、プレゼンテーション層やビジネスルール層やサービス層やデータベース層に影響する。

### デプロイしづらい

レイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) では、クラスファイルに3行追加しただけで全体の再デプロイが必要になる。

### モジュール性

また、ビジネス的な要件変更には、全てのレイヤーに変更が起きるため、モジュール性も低い。

### パフォーマンス(処理速度)

並列処理や、閉鎖レイヤーを必ず通過しなけれならないなどから、処理速度は低い。

## まとめ:レイヤードアーキテクチャを採用する理由

レイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) は、小規模でシンプルなアプリケーションやwebサイトに適している。

特に、 **予算と時間に非常に厳しい制約がある中での出発点として優れた選択だ。**

しかし、レイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) を使用したアプリケーションが **大きくなってくると、保守性やアジリティ、テスト用意性、デプロイ容易性といった特性に悪影響を及ぼす。**

## 備考

title:レイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) とは何か？(メリットデメリットの解説)

description:レイヤード [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) は、n層 [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) とも呼ばれており、最も一般的な [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) のうちの一つだ。この [アーキテクチャ](https://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3) は **シンプル** さや **親やすさ** 、 **コストの低さ** からほとんどのアプリケーションのスタンダードの形となっている。

category\_script:page\_name.startswith("2")

img:[https://github.com/minegishirei/store/blob/main/0/inhouse\_se/layerd1.png?raw=true](https://github.com/minegishirei/store/blob/main/0/inhouse_se/layerd1.png?raw=true)

page:[https://minegishirei.hatenablog.com/entry/2023/01/27/214843](https://minegishirei.hatenablog.com/entry/2023/01/27/214843)

[« サービスベースアーキテクチャとは](https://minegishirei.hatenablog.com/entry/2023/01/28/111344) [パイプラインアーキテクチャとは »](https://minegishirei.hatenablog.com/entry/2023/01/28/101928)